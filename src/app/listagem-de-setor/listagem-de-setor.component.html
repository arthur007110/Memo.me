<app-home-adm></app-home-adm>
<p-toast [style]="{marginTop: '80px'}" position="top-right"></p-toast>

<p-dialog header="Title" [maximizable]="true" [(visible)]="display">
    <p-table appendTo="body" [value]="usuariosDoSetor">
        <ng-template pTemplate="header">
            <tr>
                <th>Nome</th>
                <th>Siape</th>
                <th>Email</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-usuario>
            <tr>
                <td>{{usuario.nome}}</td>
                <td>{{usuario.siape}}</td>
                <td>{{usuario.email}}</td>
            </tr>
        </ng-template>
    </p-table>
</p-dialog>

<p-card title="Lista de Setores">
    <p-card>
        <p-table [value]="setores" [paginator]="true" [rows]="20">
            <ng-template pTemplate="header">
                <tr>
                    <th>Nome Do Setor</th>
                    <th>Usuário</th>
                    <th>Siape do Usuário</th>
                    <th></th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-setor>
                <tr>
                    <td>{{setor.nome}}</td>
                    <td>{{getNomeDoUsuario(setor)}}</td>
                    <td>{{getSiapeDoUsuario(setor)}}</td>
                    <td>
                        <button pButton type="button" label="Atualizar" (click)="atualizar(setor.id)" class="ui-button-raised ui-button-success"></button>
                    </td>
                    <td>
                        <button type="button" (click)="showDialog(setor.id)" pButton icon="pi pi-info-circle" label="Show"></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </p-card>
</p-card>