<app-home></app-home>
<p-card title="Memorandos">
<h3>Enviados</h3>

  <h3> Filtro: </h3>
  <div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-md-4">
        <div class="ui-inputgroup">
          <span class="ui-inputgroup-addon" style="background-color: #249525; color: white">Setor</span>
            <p-autoComplete [suggestions]="setoresResults" [(ngModel)]="setor" (onClear)="atualizarResultados()"(completeMethod)="buscarSetores($event)"></p-autoComplete>
        </div>
    </div>
            
    <div class="ui-g-12 ui-md-4">
        <div class="ui-inputgroup">
          <span class="ui-inputgroup-addon" style="background-color: #249525; color: white">Situação</span>
          <p-dropdown [options]="options" [(ngModel)]="selectedOption" (onClear)="atualizarResultados($event)"(completeMethod)="buscarVistos($event)" optionLabel="option" [showClear]="true" placeholder="Todos"></p-dropdown>     
        </div>
    </div>

<div class="ui-g-12 ui-md-4">
    <div class="ui-inputgroup"> 
        <span class="ui-inputgroup-addon" style="background-color: #249525; color: white">Data</span>
      <p-calendar dateFormat="dd/mm/yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2019" showButtonBar="true" [(ngModel)]="date" [showIcon]="true" (onClear)="atualizarResultados($event)" (completeMethod)="buscarDatas($event)" [locale]="ptbr"></p-calendar>
    </div>
</div>

<div class="ui-g-12 ui-md-4">
    <div class="ui-inputgroup"> 
        <p-button label="Buscar" styleClass="ui-button-success" (click)="buscar()" class="ui-button-raised ui-button-success"></p-button>
    </div>
  </div>
</div>

<p-card>
  <p-table [value]="memorandos">
    <ng-template pTemplate="header">
        <tr>
            <th>Setor de Destino</th>
            <th>Data</th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-memorando>
        <tr>
            <td>{{getNomeDoSetorDeDestino(memorando.idSetorDestinatario)}}</td>
            <td>{{memorando.dataEnvio}}</td>
            <td>
            <p-button label="Abrir" styleClass="ui-button-success" (click)="exibirMemorando(memorando)" class="ui-button-raised ui-button-success"></p-button>
            <p-button label="gerar PDF" styleClass="ui-button-success" (click)="gerarPDF(memorando)" class="ui-button-raised ui-button-success"></p-button>
            <p-toggleButton onLabel="Visualizado" offLabel="Não Visualizado" [(ngModel)]="memorando.visto" disabled class="ui-button-raised ui-button-success"></p-toggleButton>
            </td>
        </tr>
    </ng-template>
  </p-table>
</p-card>